<svg id="SvgjsSvg1006" width="2074.625" height="4198.03125" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><marker id="SvgjsMarker1256" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1257" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1260" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1261" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1264" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1265" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1308" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1309" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1394" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1395" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1448" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1449" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1476" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1477" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1518" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1519" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1554" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1555" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1651" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1652" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1655" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1656" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1659" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1660" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1683" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1684" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1687" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1688" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker><marker id="SvgjsMarker1733" markerWidth="16" markerHeight="12" refX="16" refY="6" viewBox="0 0 16 12" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1734" d="M0,2 L14,6 L0,11 L0,2" fill="#323232" stroke="#323232" stroke-width="2"></path></marker></defs><g id="SvgjsG1008" transform="translate(256.2876489209783,2704.3905073805176)"><path id="SvgjsPath1009" d="M 0 4Q 0 0 4 0L 600.067807043671 0Q 604.067807043671 0 604.067807043671 4L 604.067807043671 242.3328149399017Q 604.067807043671 246.3328149399017 600.067807043671 246.3328149399017L 4 246.3328149399017Q 0 246.3328149399017 0 242.3328149399017Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1010"><text id="SvgjsText1011" font-family="微软雅黑" text-anchor="start" font-size="13px" width="585px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1.5414074699508546" transform="rotate(0)"><tspan id="SvgjsTspan1012" dy="16" x="10"><tspan id="SvgjsTspan1013" style="text-decoration:;">org.apache.ibatis.executor.SimpleExecutor</tspan></tspan><tspan id="SvgjsTspan1014" dy="16" x="10"><tspan id="SvgjsTspan1015" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1016" dy="16" x="10"><tspan id="SvgjsTspan1017" style="text-decoration:;">  public &lt;E&gt; List&lt;E&gt; </tspan><tspan id="SvgjsTspan1018" style="text-decoration:;fill: rgb(56, 142, 60);">doQuery</tspan><tspan id="SvgjsTspan1019" style="text-decoration:;">(MappedStatement ms, Object parameter, RowBounds rowBounds, </tspan></tspan><tspan id="SvgjsTspan1020" dy="16" x="10"><tspan id="SvgjsTspan1021" style="text-decoration:;">ResultHandler resultHandler, BoundSql boundSql) throws SQLException {</tspan></tspan><tspan id="SvgjsTspan1022" dy="16" x="10"><tspan id="SvgjsTspan1023" style="text-decoration:;">    Statement stmt = null;</tspan></tspan><tspan id="SvgjsTspan1024" dy="16" x="10"><tspan id="SvgjsTspan1025" style="text-decoration:;">    try {</tspan></tspan><tspan id="SvgjsTspan1026" dy="16" x="10"><tspan id="SvgjsTspan1027" style="text-decoration:;">      Configuration configuration = ms.getConfiguration();</tspan></tspan><tspan id="SvgjsTspan1028" dy="16" x="10"><tspan id="SvgjsTspan1029" style="text-decoration:;">      StatementHandler handler = configuration.newStatementHandler(wrapper, ms, parameter, </tspan></tspan><tspan id="SvgjsTspan1030" dy="16" x="10"><tspan id="SvgjsTspan1031" style="text-decoration:;">rowBounds, resultHandler, boundSql);</tspan></tspan><tspan id="SvgjsTspan1032" dy="16" x="10"><tspan id="SvgjsTspan1033" style="text-decoration:;">      stmt = </tspan><tspan id="SvgjsTspan1034" style="text-decoration:;fill: rgb(245, 127, 23);">prepareStatement</tspan><tspan id="SvgjsTspan1035" style="text-decoration:;">(handler, ms.getStatementLog());</tspan></tspan><tspan id="SvgjsTspan1036" dy="16" x="10"><tspan id="SvgjsTspan1037" style="text-decoration:;">      </tspan><tspan id="SvgjsTspan1038" style="text-decoration:;fill: rgb(255, 0, 0);">return handler.query(stmt, resultHandler);</tspan></tspan><tspan id="SvgjsTspan1039" dy="16" x="10"><tspan id="SvgjsTspan1040" style="text-decoration:;">    } finally {</tspan></tspan><tspan id="SvgjsTspan1041" dy="16" x="10"><tspan id="SvgjsTspan1042" style="text-decoration:;">      closeStatement(stmt);</tspan></tspan><tspan id="SvgjsTspan1043" dy="16" x="10"><tspan id="SvgjsTspan1044" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1045" dy="16" x="10"><tspan id="SvgjsTspan1046" style="text-decoration:;">  }</tspan></tspan></text></g></g><g id="SvgjsG1047" transform="translate(942.9161027110815,2737.608275801921)"><path id="SvgjsPath1048" d="M 0 4Q 0 0 4 0L 410.52380952380906 0Q 414.52380952380906 0 414.52380952380906 4L 414.52380952380906 180Q 414.52380952380906 184 410.52380952380906 184L 4 184Q 0 184 0 180Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1049"><text id="SvgjsText1050" font-family="微软雅黑" text-anchor="start" font-size="13px" width="395px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="18.375" transform="rotate(0)"><tspan id="SvgjsTspan1051" dy="16" x="10"><tspan id="SvgjsTspan1052" style="text-decoration:;">org.apache.ibatis.executor.SimpleExecutor</tspan></tspan><tspan id="SvgjsTspan1053" dy="16" x="10"><tspan id="SvgjsTspan1054" style="text-decoration:;">private Statement </tspan><tspan id="SvgjsTspan1055" style="text-decoration:;fill: rgb(245, 127, 23);">prepareStatement</tspan><tspan id="SvgjsTspan1056" style="text-decoration:;">(StatementHandler handler, </tspan></tspan><tspan id="SvgjsTspan1057" dy="16" x="10"><tspan id="SvgjsTspan1058" style="text-decoration:;">Log statementLog) throws SQLException {</tspan></tspan><tspan id="SvgjsTspan1059" dy="16" x="10"><tspan id="SvgjsTspan1060" style="text-decoration:;">    Statement stmt;</tspan></tspan><tspan id="SvgjsTspan1061" dy="16" x="10"><tspan id="SvgjsTspan1062" style="text-decoration:;">    Connection connection = getConnection(statementLog);</tspan></tspan><tspan id="SvgjsTspan1063" dy="16" x="10"><tspan id="SvgjsTspan1064" style="text-decoration:;">    stmt = handler.prepare(connection, transaction.getTimeout());</tspan></tspan><tspan id="SvgjsTspan1065" dy="16" x="10"><tspan id="SvgjsTspan1066" style="text-decoration:;">    handler.parameterize(stmt);</tspan></tspan><tspan id="SvgjsTspan1067" dy="16" x="10"><tspan id="SvgjsTspan1068" style="text-decoration:;">    return stmt;</tspan></tspan><tspan id="SvgjsTspan1069" dy="16" x="10"><tspan id="SvgjsTspan1070" style="text-decoration:;">  }</tspan></tspan></text></g></g><g id="SvgjsG1071" transform="translate(244.5625,3027.0627188375415)"><path id="SvgjsPath1072" d="M 0 4Q 0 0 4 0L 640 0Q 644 0 644 4L 644 112Q 644 116 640 116L 4 116Q 0 116 0 112Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1073"><text id="SvgjsText1074" font-family="微软雅黑" text-anchor="start" font-size="13px" width="624px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1075" dy="16" x="10"><tspan id="SvgjsTspan1076" style="text-decoration:;">org.apache.ibatis.executor.statement.RoutingStatementHandler</tspan></tspan><tspan id="SvgjsTspan1077" dy="16" x="10"><tspan id="SvgjsTspan1078" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1079" dy="16" x="10"><tspan id="SvgjsTspan1080" style="text-decoration:;">  public &lt;E&gt; List&lt;E&gt; query(Statement statement, ResultHandler resultHandler) throws SQLException {</tspan></tspan><tspan id="SvgjsTspan1081" dy="16" x="10"><tspan id="SvgjsTspan1082" style="text-decoration:;">    return </tspan><tspan id="SvgjsTspan1083" style="text-decoration:;fill: rgb(56, 142, 60);">delegate.query</tspan><tspan id="SvgjsTspan1084" style="text-decoration:;">(statement, resultHandler);</tspan></tspan><tspan id="SvgjsTspan1085" dy="16" x="10"><tspan id="SvgjsTspan1086" style="text-decoration:;">  }</tspan></tspan></text></g></g><g id="SvgjsG1087" transform="translate(1227.6863433211959,3573.318929284084)"><path id="SvgjsPath1088" d="M 0 4Q 0 0 4 0L 506 0Q 510 0 510 4L 510 267Q 510 271 506 271L 4 271Q 0 271 0 267Z" stroke="rgba(255,0,0,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1089"><text id="SvgjsText1090" font-family="微软雅黑" text-anchor="start" font-size="13px" width="490px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="21.875" transform="rotate(0)"><tspan id="SvgjsTspan1091" dy="16" x="10"><tspan id="SvgjsTspan1092" style="text-decoration:;">org.apache.ibatis.plugin.Plugin</tspan></tspan><tspan id="SvgjsTspan1093" dy="16" x="10"><tspan id="SvgjsTspan1094" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1095" dy="16" x="10"><tspan id="SvgjsTspan1096" style="text-decoration:;">  public Object invoke(Object proxy, Method method, Object[] args) throws </tspan></tspan><tspan id="SvgjsTspan1097" dy="16" x="10"><tspan id="SvgjsTspan1098" style="text-decoration:;">Throwable {</tspan></tspan><tspan id="SvgjsTspan1099" dy="16" x="10"><tspan id="SvgjsTspan1100" style="text-decoration:;">    try {</tspan></tspan><tspan id="SvgjsTspan1101" dy="16" x="10"><tspan id="SvgjsTspan1102" style="text-decoration:;">      Set&lt;Method&gt; methods = signatureMap.get(method.getDeclaringClass());</tspan></tspan><tspan id="SvgjsTspan1103" dy="16" x="10"><tspan id="SvgjsTspan1104" style="text-decoration:;">      if (methods != null &amp;&amp; methods.contains(method)) {</tspan></tspan><tspan id="SvgjsTspan1105" dy="16" x="10"><tspan id="SvgjsTspan1106" style="text-decoration:;">        return </tspan><tspan id="SvgjsTspan1107" style="text-decoration:;fill: rgb(245, 127, 23);">interceptor.intercept</tspan><tspan id="SvgjsTspan1108" style="text-decoration:;">(new Invocation(target, method, args));</tspan></tspan><tspan id="SvgjsTspan1109" dy="16" x="10"><tspan id="SvgjsTspan1110" style="text-decoration:;">      }</tspan></tspan><tspan id="SvgjsTspan1111" dy="16" x="10"><tspan id="SvgjsTspan1112" style="text-decoration:;">      return method.invoke(target, args);</tspan></tspan><tspan id="SvgjsTspan1113" dy="16" x="10"><tspan id="SvgjsTspan1114" style="text-decoration:;">    } catch (Exception e) {</tspan></tspan><tspan id="SvgjsTspan1115" dy="16" x="10"><tspan id="SvgjsTspan1116" style="text-decoration:;">      throw ExceptionUtil.unwrapThrowable(e);</tspan></tspan><tspan id="SvgjsTspan1117" dy="16" x="10"><tspan id="SvgjsTspan1118" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1119" dy="16" x="10"><tspan id="SvgjsTspan1120" style="text-decoration:;">  }</tspan></tspan></text></g></g><g id="SvgjsG1121" transform="translate(1192.6628207058811,3891.043110994401)"><path id="SvgjsPath1122" d="M 0 4Q 0 0 4 0L 610 0Q 614 0 614 4L 614 278Q 614 282 610 282L 4 282Q 0 282 0 278Z" stroke="rgba(255,0,0,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1123"><text id="SvgjsText1124" font-family="微软雅黑" text-anchor="start" font-size="13px" width="594px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="3.375" transform="rotate(0)"><tspan id="SvgjsTspan1125" dy="16" x="10"><tspan id="SvgjsTspan1126" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1127" dy="16" x="10"><tspan id="SvgjsTspan1128" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1129" dy="16" x="10"><tspan id="SvgjsTspan1130" style="text-decoration:;">    public Object </tspan><tspan id="SvgjsTspan1131" style="text-decoration:;fill: rgb(245, 127, 23);">intercept</tspan><tspan id="SvgjsTspan1132" style="text-decoration:;">(Invocation invocation) throws Throwable {</tspan></tspan><tspan id="SvgjsTspan1133" dy="16" x="10"><tspan id="SvgjsTspan1134" style="text-decoration:;">        //被代理对象</tspan></tspan><tspan id="SvgjsTspan1135" dy="16" x="10"><tspan id="SvgjsTspan1136" style="text-decoration:;">        Object target = invocation.getTarget();</tspan></tspan><tspan id="SvgjsTspan1137" dy="16" x="10"><tspan id="SvgjsTspan1138" style="text-decoration:;">        StatementHandler statementHandler = (StatementHandler) invocation.getTarget();</tspan></tspan><tspan id="SvgjsTspan1139" dy="16" x="10"><tspan id="SvgjsTspan1140" style="text-decoration:;">        BoundSql boundSql = statementHandler.getBoundSql();</tspan></tspan><tspan id="SvgjsTspan1141" dy="16" x="10"><tspan id="SvgjsTspan1142" style="text-decoration:;">        String sql = boundSql.getSql();</tspan></tspan><tspan id="SvgjsTspan1143" dy="16" x="10"><tspan id="SvgjsTspan1144" style="text-decoration:;">        //代理方法</tspan></tspan><tspan id="SvgjsTspan1145" dy="16" x="10"><tspan id="SvgjsTspan1146" style="text-decoration:;">        Method method = invocation.getMethod();</tspan></tspan><tspan id="SvgjsTspan1147" dy="16" x="10"><tspan id="SvgjsTspan1148" style="text-decoration:;">        //方法参数</tspan></tspan><tspan id="SvgjsTspan1149" dy="16" x="10"><tspan id="SvgjsTspan1150" style="text-decoration:;">        Object[] args = invocation.getArgs();</tspan></tspan><tspan id="SvgjsTspan1151" dy="16" x="10"><tspan id="SvgjsTspan1152" style="text-decoration:;">        // implement pre-processing if needed(前置处理)</tspan></tspan><tspan id="SvgjsTspan1153" dy="16" x="10"><tspan id="SvgjsTspan1154" style="text-decoration:;">        Object returnObject = </tspan><tspan id="SvgjsTspan1155" style="text-decoration:;fill: rgb(0, 255, 0);">invocation.proceed();</tspan></tspan><tspan id="SvgjsTspan1156" dy="16" x="10"><tspan id="SvgjsTspan1157" style="text-decoration:;">        // implement post-processing if needed(后置处理)</tspan></tspan><tspan id="SvgjsTspan1158" dy="16" x="10"><tspan id="SvgjsTspan1159" style="text-decoration:;">        return returnObject;</tspan></tspan><tspan id="SvgjsTspan1160" dy="16" x="10"><tspan id="SvgjsTspan1161" style="text-decoration:;">    }</tspan></tspan></text></g></g><g id="SvgjsG1162" transform="translate(247.0625,3203.1551558123306)"><path id="SvgjsPath1163" d="M 0 4Q 0 0 4 0L 635 0Q 639 0 639 4L 639 120Q 639 124 635 124L 4 124Q 0 124 0 120Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1164"><text id="SvgjsText1165" font-family="微软雅黑" text-anchor="start" font-size="13px" width="619px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.375" transform="rotate(0)"><tspan id="SvgjsTspan1166" dy="16" x="10"><tspan id="SvgjsTspan1167" style="text-decoration:;">org.apache.ibatis.executor.statement.RoutingStatementHandler</tspan></tspan><tspan id="SvgjsTspan1168" dy="16" x="10"><tspan id="SvgjsTspan1169" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1170" dy="16" x="10"><tspan id="SvgjsTspan1171" style="text-decoration:;">  public &lt;E&gt; List&lt;E&gt; </tspan><tspan id="SvgjsTspan1172" style="text-decoration:;fill: rgb(56, 142, 60);">query(</tspan><tspan id="SvgjsTspan1173" style="text-decoration:;">Statement statement, ResultHandler resultHandler) throws SQLException {</tspan></tspan><tspan id="SvgjsTspan1174" dy="16" x="10"><tspan id="SvgjsTspan1175" style="text-decoration:;">    PreparedStatement ps = (PreparedStatement) statement;</tspan></tspan><tspan id="SvgjsTspan1176" dy="16" x="10"><tspan id="SvgjsTspan1177" style="text-decoration:;">    ps.execute();</tspan></tspan><tspan id="SvgjsTspan1178" dy="16" x="10"><tspan id="SvgjsTspan1179" style="text-decoration:;">    return resultSetHandler.handleResultSets(ps);</tspan></tspan><tspan id="SvgjsTspan1180" dy="16" x="10"><tspan id="SvgjsTspan1181" style="text-decoration:;">  }</tspan></tspan></text></g></g><g id="SvgjsG1182" transform="translate(267.7387282767778,3388.4494731106106)"><path id="SvgjsPath1183" d="M 0 4Q 0 0 4 0L 593 0Q 597 0 597 4L 597 549Q 597 553 593 553L 4 553Q 0 553 0 549Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1184"><text id="SvgjsText1185" font-family="微软雅黑" text-anchor="start" font-size="13px" width="577px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="10.875" transform="rotate(0)"><tspan id="SvgjsTspan1186" dy="16" x="10"><tspan id="SvgjsTspan1187" style="text-decoration:;">org.apache.ibatis.executor.resultset.DefaultResultSetHandler</tspan></tspan><tspan id="SvgjsTspan1188" dy="16" x="10"><tspan id="SvgjsTspan1189" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1190" dy="16" x="10"><tspan id="SvgjsTspan1191" style="text-decoration:;">  public List&lt;Object&gt; </tspan><tspan id="SvgjsTspan1192" style="text-decoration:;fill: rgb(56, 142, 60);">handleResultSets</tspan><tspan id="SvgjsTspan1193" style="text-decoration:;">(Statement stmt) throws SQLException {</tspan></tspan><tspan id="SvgjsTspan1194" dy="16" x="10"><tspan id="SvgjsTspan1195" style="text-decoration:;">    ErrorContext.instance().activity("handling results").object(mappedStatement.getId());</tspan></tspan><tspan id="SvgjsTspan1196" dy="16" x="10"><tspan id="SvgjsTspan1197" style="text-decoration:;">    final List&lt;Object&gt; multipleResults = new ArrayList&lt;&gt;();</tspan></tspan><tspan id="SvgjsTspan1198" dy="16" x="10"><tspan id="SvgjsTspan1199" style="text-decoration:;">    int resultSetCount = 0;</tspan></tspan><tspan id="SvgjsTspan1200" dy="16" x="10"><tspan id="SvgjsTspan1201" style="text-decoration:;">    ResultSetWrapper rsw = getFirstResultSet(stmt);</tspan></tspan><tspan id="SvgjsTspan1202" dy="16" x="10"><tspan id="SvgjsTspan1203" style="text-decoration:;">    List&lt;ResultMap&gt; resultMaps = mappedStatement.getResultMaps();</tspan></tspan><tspan id="SvgjsTspan1204" dy="16" x="10"><tspan id="SvgjsTspan1205" style="text-decoration:;">    int resultMapCount = resultMaps.size();</tspan></tspan><tspan id="SvgjsTspan1206" dy="16" x="10"><tspan id="SvgjsTspan1207" style="text-decoration:;">    validateResultMapsCount(rsw, resultMapCount);</tspan></tspan><tspan id="SvgjsTspan1208" dy="16" x="10"><tspan id="SvgjsTspan1209" style="text-decoration:;">    while (rsw != null &amp;&amp; resultMapCount &gt; resultSetCount) {</tspan></tspan><tspan id="SvgjsTspan1210" dy="16" x="10"><tspan id="SvgjsTspan1211" style="text-decoration:;">      ResultMap resultMap = resultMaps.get(resultSetCount);</tspan></tspan><tspan id="SvgjsTspan1212" dy="16" x="10"><tspan id="SvgjsTspan1213" style="text-decoration:;">      handleResultSet(rsw, resultMap, multipleResults, null);</tspan></tspan><tspan id="SvgjsTspan1214" dy="16" x="10"><tspan id="SvgjsTspan1215" style="text-decoration:;">      rsw = getNextResultSet(stmt);</tspan></tspan><tspan id="SvgjsTspan1216" dy="16" x="10"><tspan id="SvgjsTspan1217" style="text-decoration:;">      cleanUpAfterHandlingResultSet();</tspan></tspan><tspan id="SvgjsTspan1218" dy="16" x="10"><tspan id="SvgjsTspan1219" style="text-decoration:;">      resultSetCount++;</tspan></tspan><tspan id="SvgjsTspan1220" dy="16" x="10"><tspan id="SvgjsTspan1221" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1222" dy="16" x="10"><tspan id="SvgjsTspan1223" style="text-decoration:;">    String[] resultSets = mappedStatement.getResultSets();</tspan></tspan><tspan id="SvgjsTspan1224" dy="16" x="10"><tspan id="SvgjsTspan1225" style="text-decoration:;">    if (resultSets != null) {</tspan></tspan><tspan id="SvgjsTspan1226" dy="16" x="10"><tspan id="SvgjsTspan1227" style="text-decoration:;">      while (rsw != null &amp;&amp; resultSetCount &lt; resultSets.length) {</tspan></tspan><tspan id="SvgjsTspan1228" dy="16" x="10"><tspan id="SvgjsTspan1229" style="text-decoration:;">        ResultMapping parentMapping = nextResultMaps.get(resultSets[resultSetCount]);</tspan></tspan><tspan id="SvgjsTspan1230" dy="16" x="10"><tspan id="SvgjsTspan1231" style="text-decoration:;">        if (parentMapping != null) {</tspan></tspan><tspan id="SvgjsTspan1232" dy="16" x="10"><tspan id="SvgjsTspan1233" style="text-decoration:;">          String nestedResultMapId = parentMapping.getNestedResultMapId();</tspan></tspan><tspan id="SvgjsTspan1234" dy="16" x="10"><tspan id="SvgjsTspan1235" style="text-decoration:;">          ResultMap resultMap = configuration.getResultMap(nestedResultMapId);</tspan></tspan><tspan id="SvgjsTspan1236" dy="16" x="10"><tspan id="SvgjsTspan1237" style="text-decoration:;">          handleResultSet(rsw, resultMap, null, parentMapping);</tspan></tspan><tspan id="SvgjsTspan1238" dy="16" x="10"><tspan id="SvgjsTspan1239" style="text-decoration:;">        }</tspan></tspan><tspan id="SvgjsTspan1240" dy="16" x="10"><tspan id="SvgjsTspan1241" style="text-decoration:;">        rsw = getNextResultSet(stmt);</tspan></tspan><tspan id="SvgjsTspan1242" dy="16" x="10"><tspan id="SvgjsTspan1243" style="text-decoration:;">        cleanUpAfterHandlingResultSet();</tspan></tspan><tspan id="SvgjsTspan1244" dy="16" x="10"><tspan id="SvgjsTspan1245" style="text-decoration:;">        resultSetCount++;</tspan></tspan><tspan id="SvgjsTspan1246" dy="16" x="10"><tspan id="SvgjsTspan1247" style="text-decoration:;">      }</tspan></tspan><tspan id="SvgjsTspan1248" dy="16" x="10"><tspan id="SvgjsTspan1249" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1250" dy="16" x="10"><tspan id="SvgjsTspan1251" style="text-decoration:;">    return collapseSingleResultList(multipleResults);</tspan></tspan><tspan id="SvgjsTspan1252" dy="16" x="10"><tspan id="SvgjsTspan1253" style="text-decoration:;">  }</tspan></tspan></text></g></g><g id="SvgjsG1254"><path id="SvgjsPath1255" d="M566.5624999999999 3143.0627188375415L566.5624999999999 3171.1089373249365L566.5624999999999 3171.1089373249365L566.5624999999999 3203.1551558123306" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1256)"></path></g><g id="SvgjsG1258"><path id="SvgjsPath1259" d="M566.2387282767779 3327.1551558123306L566.2387282767779 3357.8023144614713L566.2387282767779 3357.8023144614713L566.2387282767779 3388.4494731106106" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1260)"></path></g><g id="SvgjsG1262"><path id="SvgjsPath1263" d="M558.0624999999998 2950.7233223204194L558.0624999999998 2988.8930205789793L558.0624999999998 2988.8930205789793L558.0624999999998 3027.0627188375415" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1264)"></path></g><g id="SvgjsG1266" transform="translate(236.70478882460787,2330.764272936265)"><path id="SvgjsPath1267" d="M 0 4Q 0 0 4 0L 640 0Q 644 0 644 4L 644 267Q 644 271 640 271L 4 271Q 0 271 0 267Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1268"><text id="SvgjsText1269" font-family="微软雅黑" text-anchor="start" font-size="13px" width="624px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.875" transform="rotate(0)"><tspan id="SvgjsTspan1270" dy="16" x="10"><tspan id="SvgjsTspan1271" style="text-decoration:;">org.apache.ibatis.executor.SimpleExecutor</tspan></tspan><tspan id="SvgjsTspan1272" dy="16" x="10"><tspan id="SvgjsTspan1273" style="text-decoration:;">private &lt;E&gt; List&lt;E&gt; </tspan><tspan id="SvgjsTspan1274" style="text-decoration:;fill: rgb(56, 142, 60);">queryFromDatabase</tspan><tspan id="SvgjsTspan1275" style="text-decoration:;">(MappedStatement ms, Object parameter, RowBounds </tspan></tspan><tspan id="SvgjsTspan1276" dy="16" x="10"><tspan id="SvgjsTspan1277" style="text-decoration:;">rowBounds, ResultHandler resultHandler, CacheKey key, BoundSql boundSql) throws SQLException {</tspan></tspan><tspan id="SvgjsTspan1278" dy="16" x="10"><tspan id="SvgjsTspan1279" style="text-decoration:;">    List&lt;E&gt; list;</tspan></tspan><tspan id="SvgjsTspan1280" dy="16" x="10"><tspan id="SvgjsTspan1281" style="text-decoration:;">    localCache.putObject(key, EXECUTION_PLACEHOLDER);</tspan></tspan><tspan id="SvgjsTspan1282" dy="16" x="10"><tspan id="SvgjsTspan1283" style="text-decoration:;">    try {</tspan></tspan><tspan id="SvgjsTspan1284" dy="16" x="10"><tspan id="SvgjsTspan1285" style="text-decoration:;">      list = </tspan><tspan id="SvgjsTspan1286" style="text-decoration:;fill: rgb(56, 142, 60);">doQuery</tspan><tspan id="SvgjsTspan1287" style="text-decoration:;">(ms, parameter, rowBounds, resultHandler, boundSql);</tspan></tspan><tspan id="SvgjsTspan1288" dy="16" x="10"><tspan id="SvgjsTspan1289" style="text-decoration:;">    } finally {</tspan></tspan><tspan id="SvgjsTspan1290" dy="16" x="10"><tspan id="SvgjsTspan1291" style="text-decoration:;">      localCache.removeObject(key);</tspan></tspan><tspan id="SvgjsTspan1292" dy="16" x="10"><tspan id="SvgjsTspan1293" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1294" dy="16" x="10"><tspan id="SvgjsTspan1295" style="text-decoration:;">    localCache.putObject(key, list);</tspan></tspan><tspan id="SvgjsTspan1296" dy="16" x="10"><tspan id="SvgjsTspan1297" style="text-decoration:;">    if (ms.getStatementType() == StatementType.CALLABLE) {</tspan></tspan><tspan id="SvgjsTspan1298" dy="16" x="10"><tspan id="SvgjsTspan1299" style="text-decoration:;">      localOutputParameterCache.putObject(key, parameter);</tspan></tspan><tspan id="SvgjsTspan1300" dy="16" x="10"><tspan id="SvgjsTspan1301" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1302" dy="16" x="10"><tspan id="SvgjsTspan1303" style="text-decoration:;">    return list;</tspan></tspan><tspan id="SvgjsTspan1304" dy="16" x="10"><tspan id="SvgjsTspan1305" style="text-decoration:;">  }</tspan></tspan></text></g></g><g id="SvgjsG1306"><path id="SvgjsPath1307" d="M558.3215524428139 2601.764272936265L558.3215524428139 2651.6103666104314L558.3215524428139 2651.6103666104314L558.3215524428139 2704.3905073805176" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1308)"></path></g><g id="SvgjsG1310" transform="translate(25.00368824000133,1676.2111782212878)"><path id="SvgjsPath1311" d="M 0 4Q 0 0 4 0L 1063.1428571428573 0Q 1067.1428571428573 0 1067.1428571428573 4L 1067.1428571428573 589.095238095238Q 1067.1428571428573 593.095238095238 1063.1428571428573 593.095238095238L 4 593.095238095238Q 0 593.095238095238 0 589.095238095238Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1312"><text id="SvgjsText1313" font-family="微软雅黑" text-anchor="start" font-size="13px" width="1048px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-1.07738095238102" transform="rotate(0)"><tspan id="SvgjsTspan1314" dy="16" x="10"><tspan id="SvgjsTspan1315" style="text-decoration:;">org.apache.ibatis.executor.SimpleExecutor</tspan></tspan><tspan id="SvgjsTspan1316" dy="16" x="10"><tspan id="SvgjsTspan1317" style="text-decoration:;">@SuppressWarnings("unchecked")</tspan></tspan><tspan id="SvgjsTspan1318" dy="16" x="10"><tspan id="SvgjsTspan1319" style="text-decoration:;">    @Override</tspan></tspan><tspan id="SvgjsTspan1320" dy="16" x="10"><tspan id="SvgjsTspan1321" style="text-decoration:;">    public &lt;E&gt; List&lt;E&gt; </tspan><tspan id="SvgjsTspan1322" style="text-decoration:;fill: rgb(56, 142, 60);">query</tspan><tspan id="SvgjsTspan1323" style="text-decoration:;">(MappedStatement ms, Object parameter, RowBounds rowBounds, ResultHandler resultHandler, CacheKey key, BoundSql boundSql) throws </tspan></tspan><tspan id="SvgjsTspan1324" dy="16" x="10"><tspan id="SvgjsTspan1325" style="text-decoration:;">SQLException {</tspan></tspan><tspan id="SvgjsTspan1326" dy="16" x="10"><tspan id="SvgjsTspan1327" style="text-decoration:;">        ErrorContext.instance().resource(ms.getResource()).activity("executing a query").object(ms.getId());</tspan></tspan><tspan id="SvgjsTspan1328" dy="16" x="10"><tspan id="SvgjsTspan1329" style="text-decoration:;">        if (closed) {</tspan></tspan><tspan id="SvgjsTspan1330" dy="16" x="10"><tspan id="SvgjsTspan1331" style="text-decoration:;">            throw new ExecutorException("Executor was closed.");</tspan></tspan><tspan id="SvgjsTspan1332" dy="16" x="10"><tspan id="SvgjsTspan1333" style="text-decoration:;">        }</tspan></tspan><tspan id="SvgjsTspan1334" dy="16" x="10"><tspan id="SvgjsTspan1335" style="text-decoration:;">        if (queryStack == 0 &amp;&amp; ms.isFlushCacheRequired()) {</tspan></tspan><tspan id="SvgjsTspan1336" dy="16" x="10"><tspan id="SvgjsTspan1337" style="text-decoration:;">            clearLocalCache();</tspan></tspan><tspan id="SvgjsTspan1338" dy="16" x="10"><tspan id="SvgjsTspan1339" style="text-decoration:;">        }</tspan></tspan><tspan id="SvgjsTspan1340" dy="16" x="10"><tspan id="SvgjsTspan1341" style="text-decoration:;">        List&lt;E&gt; list;</tspan></tspan><tspan id="SvgjsTspan1342" dy="16" x="10"><tspan id="SvgjsTspan1343" style="text-decoration:;">        try {</tspan></tspan><tspan id="SvgjsTspan1344" dy="16" x="10"><tspan id="SvgjsTspan1345" style="text-decoration:;">            queryStack++;</tspan></tspan><tspan id="SvgjsTspan1346" dy="16" x="10"><tspan id="SvgjsTspan1347" style="text-decoration:;">            list = resultHandler == null ? (List&lt;E&gt;) localCache.getObject(key) : null;</tspan></tspan><tspan id="SvgjsTspan1348" dy="16" x="10"><tspan id="SvgjsTspan1349" style="text-decoration:;">            if (list != null) {</tspan></tspan><tspan id="SvgjsTspan1350" dy="16" x="10"><tspan id="SvgjsTspan1351" style="text-decoration:;">                handleLocallyCachedOutputParameters(ms, key, parameter, boundSql);</tspan></tspan><tspan id="SvgjsTspan1352" dy="16" x="10"><tspan id="SvgjsTspan1353" style="text-decoration:;">            } else {</tspan></tspan><tspan id="SvgjsTspan1354" dy="16" x="10"><tspan id="SvgjsTspan1355" style="text-decoration:;">                list = </tspan><tspan id="SvgjsTspan1356" style="text-decoration:;fill: rgb(56, 142, 60);">queryFromDatabase</tspan><tspan id="SvgjsTspan1357" style="text-decoration:;">(ms, parameter, rowBounds, resultHandler, key, boundSql);</tspan></tspan><tspan id="SvgjsTspan1358" dy="16" x="10"><tspan id="SvgjsTspan1359" style="text-decoration:;">            }</tspan></tspan><tspan id="SvgjsTspan1360" dy="16" x="10"><tspan id="SvgjsTspan1361" style="text-decoration:;">        } finally {</tspan></tspan><tspan id="SvgjsTspan1362" dy="16" x="10"><tspan id="SvgjsTspan1363" style="text-decoration:;">            queryStack--;</tspan></tspan><tspan id="SvgjsTspan1364" dy="16" x="10"><tspan id="SvgjsTspan1365" style="text-decoration:;">        }</tspan></tspan><tspan id="SvgjsTspan1366" dy="16" x="10"><tspan id="SvgjsTspan1367" style="text-decoration:;">        if (queryStack == 0) {</tspan></tspan><tspan id="SvgjsTspan1368" dy="16" x="10"><tspan id="SvgjsTspan1369" style="text-decoration:;">            for (DeferredLoad deferredLoad : deferredLoads) {</tspan></tspan><tspan id="SvgjsTspan1370" dy="16" x="10"><tspan id="SvgjsTspan1371" style="text-decoration:;">                deferredLoad.load();</tspan></tspan><tspan id="SvgjsTspan1372" dy="16" x="10"><tspan id="SvgjsTspan1373" style="text-decoration:;">            }</tspan></tspan><tspan id="SvgjsTspan1374" dy="16" x="10"><tspan id="SvgjsTspan1375" style="text-decoration:;">            // issue #601</tspan></tspan><tspan id="SvgjsTspan1376" dy="16" x="10"><tspan id="SvgjsTspan1377" style="text-decoration:;">            deferredLoads.clear();</tspan></tspan><tspan id="SvgjsTspan1378" dy="16" x="10"><tspan id="SvgjsTspan1379" style="text-decoration:;">            if (configuration.getLocalCacheScope() == LocalCacheScope.STATEMENT) {</tspan></tspan><tspan id="SvgjsTspan1380" dy="16" x="10"><tspan id="SvgjsTspan1381" style="text-decoration:;">                // issue #482</tspan></tspan><tspan id="SvgjsTspan1382" dy="16" x="10"><tspan id="SvgjsTspan1383" style="text-decoration:;">                clearLocalCache();</tspan></tspan><tspan id="SvgjsTspan1384" dy="16" x="10"><tspan id="SvgjsTspan1385" style="text-decoration:;">            }</tspan></tspan><tspan id="SvgjsTspan1386" dy="16" x="10"><tspan id="SvgjsTspan1387" style="text-decoration:;">        }</tspan></tspan><tspan id="SvgjsTspan1388" dy="16" x="10"><tspan id="SvgjsTspan1389" style="text-decoration:;">        return list;</tspan></tspan><tspan id="SvgjsTspan1390" dy="16" x="10"><tspan id="SvgjsTspan1391" style="text-decoration:;">    }</tspan></tspan></text></g></g><g id="SvgjsG1392"><path id="SvgjsPath1393" d="M558.7047888246076 2269.306416316526L558.7047888246076 2300.0353446264L558.7047888246076 2300.0353446264L558.7047888246076 2330.764272936265" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1394)"></path></g><g id="SvgjsG1396" transform="translate(236.91042422791543,1260.2756039915976)"><path id="SvgjsPath1397" d="M 0 4Q 0 0 4 0L 640 0Q 644 0 644 4L 644 346.1260504201673Q 644 350.1260504201673 640 350.1260504201673L 4 350.1260504201673Q 0 350.1260504201673 0 346.1260504201673Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1398"><text id="SvgjsText1399" font-family="微软雅黑" text-anchor="start" font-size="13px" width="624px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.4380252100836515" transform="rotate(0)"><tspan id="SvgjsTspan1400" dy="16" x="10"><tspan id="SvgjsTspan1401" style="text-decoration:;"> org.apache.ibatis.executor.CachingExecutor</tspan></tspan><tspan id="SvgjsTspan1402" dy="16" x="10"><tspan id="SvgjsTspan1403" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1404" dy="16" x="10"><tspan id="SvgjsTspan1405" style="text-decoration:;">    public &lt;E&gt; List&lt;E&gt; </tspan><tspan id="SvgjsTspan1406" style="text-decoration:;fill: rgb(56, 142, 60);">query</tspan><tspan id="SvgjsTspan1407" style="text-decoration:;">(MappedStatement ms, Object parameterObject, RowBounds rowBounds, </tspan></tspan><tspan id="SvgjsTspan1408" dy="16" x="10"><tspan id="SvgjsTspan1409" style="text-decoration:;">ResultHandler resultHandler, CacheKey key, BoundSql boundSql)</tspan></tspan><tspan id="SvgjsTspan1410" dy="16" x="10"><tspan id="SvgjsTspan1411" style="text-decoration:;">    throws SQLException {</tspan></tspan><tspan id="SvgjsTspan1412" dy="16" x="10"><tspan id="SvgjsTspan1413" style="text-decoration:;">        Cache cache = ms.getCache();</tspan></tspan><tspan id="SvgjsTspan1414" dy="16" x="10"><tspan id="SvgjsTspan1415" style="text-decoration:;">        if (cache != null) {</tspan></tspan><tspan id="SvgjsTspan1416" dy="16" x="10"><tspan id="SvgjsTspan1417" style="text-decoration:;">            flushCacheIfRequired(ms);</tspan></tspan><tspan id="SvgjsTspan1418" dy="16" x="10"><tspan id="SvgjsTspan1419" style="text-decoration:;">            if (ms.isUseCache() &amp;&amp; resultHandler == null) {</tspan></tspan><tspan id="SvgjsTspan1420" dy="16" x="10"><tspan id="SvgjsTspan1421" style="text-decoration:;">                ensureNoOutParams(ms, boundSql);</tspan></tspan><tspan id="SvgjsTspan1422" dy="16" x="10"><tspan id="SvgjsTspan1423" style="text-decoration:;">                @SuppressWarnings("unchecked")</tspan></tspan><tspan id="SvgjsTspan1424" dy="16" x="10"><tspan id="SvgjsTspan1425" style="text-decoration:;">                List&lt;E&gt; list = (List&lt;E&gt;) tcm.getObject(cache, key);</tspan></tspan><tspan id="SvgjsTspan1426" dy="16" x="10"><tspan id="SvgjsTspan1427" style="text-decoration:;">                if (list == null) {</tspan></tspan><tspan id="SvgjsTspan1428" dy="16" x="10"><tspan id="SvgjsTspan1429" style="text-decoration:;">                    list = delegate.</tspan><tspan id="SvgjsTspan1430" style="text-decoration:;fill: rgb(56, 142, 60);">query</tspan><tspan id="SvgjsTspan1431" style="text-decoration:;">(ms, parameterObject, rowBounds, resultHandler, key, boundSql);</tspan></tspan><tspan id="SvgjsTspan1432" dy="16" x="10"><tspan id="SvgjsTspan1433" style="text-decoration:;">                    tcm.putObject(cache, key, list); // issue #578 and #116</tspan></tspan><tspan id="SvgjsTspan1434" dy="16" x="10"><tspan id="SvgjsTspan1435" style="text-decoration:;">                }</tspan></tspan><tspan id="SvgjsTspan1436" dy="16" x="10"><tspan id="SvgjsTspan1437" style="text-decoration:;">                return list;</tspan></tspan><tspan id="SvgjsTspan1438" dy="16" x="10"><tspan id="SvgjsTspan1439" style="text-decoration:;">            }</tspan></tspan><tspan id="SvgjsTspan1440" dy="16" x="10"><tspan id="SvgjsTspan1441" style="text-decoration:;">        }</tspan></tspan><tspan id="SvgjsTspan1442" dy="16" x="10"><tspan id="SvgjsTspan1443" style="text-decoration:;">        return delegate.query(ms, parameterObject, rowBounds, resultHandler, key, boundSql);</tspan></tspan><tspan id="SvgjsTspan1444" dy="16" x="10"><tspan id="SvgjsTspan1445" style="text-decoration:;">    }</tspan></tspan></text></g></g><g id="SvgjsG1446"><path id="SvgjsPath1447" d="M558.5751168114302 1610.4016544117649L558.5751168114302 1643.3064163165263L558.5751168114302 1643.3064163165263L558.5751168114302 1676.2111782212878" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1448)"></path></g><g id="SvgjsG1450" transform="translate(144.75417667066782,1071.3932510504192)"><path id="SvgjsPath1451" d="M 0 4Q 0 0 4 0L 826.9523809523811 0Q 830.9523809523811 0 830.9523809523811 4L 830.9523809523811 132.90476190476193Q 830.9523809523811 136.90476190476193 826.9523809523811 136.90476190476193L 4 136.90476190476193Q 0 136.90476190476193 0 132.90476190476193Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1452"><text id="SvgjsText1453" font-family="微软雅黑" text-anchor="start" font-size="13px" width="811px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2.827380952380963" transform="rotate(0)"><tspan id="SvgjsTspan1454" dy="16" x="10"><tspan id="SvgjsTspan1455" style="text-decoration:;">org.apache.ibatis.executor.CachingExecutor</tspan></tspan><tspan id="SvgjsTspan1456" dy="16" x="10"><tspan id="SvgjsTspan1457" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1458" dy="16" x="10"><tspan id="SvgjsTspan1459" style="text-decoration:;">    public &lt;E&gt; List&lt;E&gt; </tspan><tspan id="SvgjsTspan1460" style="text-decoration:;fill: rgb(56, 142, 60);">query</tspan><tspan id="SvgjsTspan1461" style="text-decoration:;">(MappedStatement ms, Object parameterObject, RowBounds rowBounds, ResultHandler resultHandler) </tspan></tspan><tspan id="SvgjsTspan1462" dy="16" x="10"><tspan id="SvgjsTspan1463" style="text-decoration:;">throws SQLException {</tspan></tspan><tspan id="SvgjsTspan1464" dy="16" x="10"><tspan id="SvgjsTspan1465" style="text-decoration:;">        BoundSql boundSql = ms.getBoundSql(parameterObject);</tspan></tspan><tspan id="SvgjsTspan1466" dy="16" x="10"><tspan id="SvgjsTspan1467" style="text-decoration:;">        CacheKey key = createCacheKey(ms, parameterObject, rowBounds, boundSql);</tspan></tspan><tspan id="SvgjsTspan1468" dy="16" x="10"><tspan id="SvgjsTspan1469" style="text-decoration:;">        return </tspan><tspan id="SvgjsTspan1470" style="text-decoration:;fill: rgb(56, 142, 60);">query</tspan><tspan id="SvgjsTspan1471" style="text-decoration:;">(ms, parameterObject, rowBounds, resultHandler, key, boundSql);</tspan></tspan><tspan id="SvgjsTspan1472" dy="16" x="10"><tspan id="SvgjsTspan1473" style="text-decoration:;">    }</tspan></tspan></text></g></g><g id="SvgjsG1474"><path id="SvgjsPath1475" d="M558.9104242279157 1208.298012955181L558.9104242279157 1234.28680847339L558.9104242279157 1234.28680847339L558.9104242279157 1260.2756039915976" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1476)"></path></g><g id="SvgjsG1478" transform="translate(188.2443285893343,802.0935311624654)"><path id="SvgjsPath1479" d="M 0 4Q 0 0 4 0L 735.0828772930188 0Q 739.0828772930188 0 739.0828772930188 4L 739.0828772930188 180Q 739.0828772930188 184 735.0828772930188 184L 4 184Q 0 184 0 180Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1480"><text id="SvgjsText1481" font-family="微软雅黑" text-anchor="start" font-size="13px" width="720px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="2.375" transform="rotate(0)"><tspan id="SvgjsTspan1482" dy="16" x="10"><tspan id="SvgjsTspan1483" style="text-decoration:;">DefaultSqlSession</tspan></tspan><tspan id="SvgjsTspan1484" dy="16" x="10"><tspan id="SvgjsTspan1485" style="text-decoration:;">private &lt;E&gt; List&lt;E&gt; </tspan><tspan id="SvgjsTspan1486" style="text-decoration:;fill: rgb(56, 142, 60);">selectList</tspan><tspan id="SvgjsTspan1487" style="text-decoration:;">(String </tspan><tspan id="SvgjsTspan1488" style="text-decoration:;fill: rgb(255, 0, 255);">statement</tspan><tspan id="SvgjsTspan1489" style="text-decoration:;">, Object </tspan><tspan id="SvgjsTspan1490" style="text-decoration:;fill: rgb(186, 104, 200);">parameter</tspan><tspan id="SvgjsTspan1491" style="text-decoration:;">, RowBounds </tspan><tspan id="SvgjsTspan1492" style="text-decoration:;fill: rgb(0, 0, 255);">rowBounds</tspan><tspan id="SvgjsTspan1493" style="text-decoration:;">, ResultHandler </tspan><tspan id="SvgjsTspan1494" style="text-decoration:;fill: rgb(74, 20, 140);">handler</tspan><tspan id="SvgjsTspan1495" style="text-decoration:;">) {</tspan></tspan><tspan id="SvgjsTspan1496" dy="16" x="10"><tspan id="SvgjsTspan1497" style="text-decoration:;">        try {</tspan></tspan><tspan id="SvgjsTspan1498" dy="16" x="10"><tspan id="SvgjsTspan1499" style="text-decoration:;">            MappedStatement ms = configuration.getMappedStatement(statement);</tspan></tspan><tspan id="SvgjsTspan1500" dy="16" x="10"><tspan id="SvgjsTspan1501" style="text-decoration:;">            return executor.</tspan><tspan id="SvgjsTspan1502" style="text-decoration:;fill: rgb(56, 142, 60);">query</tspan><tspan id="SvgjsTspan1503" style="text-decoration:;">(ms, wrapCollection(parameter), rowBounds, handler);</tspan></tspan><tspan id="SvgjsTspan1504" dy="16" x="10"><tspan id="SvgjsTspan1505" style="text-decoration:;">        } catch (Exception e) {</tspan></tspan><tspan id="SvgjsTspan1506" dy="16" x="10"><tspan id="SvgjsTspan1507" style="text-decoration:;">            throw ExceptionFactory.wrapException("Error querying database.  Cause: " + e, e);</tspan></tspan><tspan id="SvgjsTspan1508" dy="16" x="10"><tspan id="SvgjsTspan1509" style="text-decoration:;">        }finally {</tspan></tspan><tspan id="SvgjsTspan1510" dy="16" x="10"><tspan id="SvgjsTspan1511" style="text-decoration:;">                ErrorContext.instance().reset();</tspan></tspan><tspan id="SvgjsTspan1512" dy="16" x="10"><tspan id="SvgjsTspan1513" style="text-decoration:;">        }</tspan></tspan><tspan id="SvgjsTspan1514" dy="16" x="10"><tspan id="SvgjsTspan1515" style="text-decoration:;">    }</tspan></tspan></text></g></g><g id="SvgjsG1516"><path id="SvgjsPath1517" d="M560.2303671468593 986.0935311624654L560.2303671468593 1029.3974527310918L560.2303671468593 1029.3974527310918L560.2303671468593 1071.3932510504192" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1518)"></path></g><g id="SvgjsG1520" transform="translate(259.5625,616.4912902661072)"><path id="SvgjsPath1521" d="M 0 4Q 0 0 4 0L 610 0Q 614 0 614 4L 614 112Q 614 116 610 116L 4 116Q 0 116 0 112Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1522"><text id="SvgjsText1523" font-family="微软雅黑" text-anchor="start" font-size="13px" width="594px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1524" dy="16" x="10"><tspan id="SvgjsTspan1525" style="text-decoration:;">DefaultSqlSession</tspan></tspan><tspan id="SvgjsTspan1526" dy="16" x="10"><tspan id="SvgjsTspan1527" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1528" dy="16" x="10"><tspan id="SvgjsTspan1529" style="text-decoration:;">    public &lt;E&gt; List&lt;E&gt; </tspan><tspan id="SvgjsTspan1530" style="text-decoration:;fill: rgb(56, 142, 60);">selectList</tspan><tspan id="SvgjsTspan1531" style="text-decoration:;">(String </tspan><tspan id="SvgjsTspan1532" style="text-decoration:;fill: rgb(255, 0, 255);">statement</tspan><tspan id="SvgjsTspan1533" style="text-decoration:;">, Object </tspan><tspan id="SvgjsTspan1534" style="text-decoration:;fill: rgb(186, 104, 200);">parameter</tspan><tspan id="SvgjsTspan1535" style="text-decoration:;">, RowBounds </tspan><tspan id="SvgjsTspan1536" style="text-decoration:;fill: rgb(0, 0, 255);">rowBounds</tspan><tspan id="SvgjsTspan1537" style="text-decoration:;">) {</tspan></tspan><tspan id="SvgjsTspan1538" dy="16" x="10"><tspan id="SvgjsTspan1539" style="text-decoration:;">        return </tspan><tspan id="SvgjsTspan1540" style="text-decoration:;fill: rgb(56, 142, 60);">selectList</tspan><tspan id="SvgjsTspan1541" style="text-decoration:;">(</tspan><tspan id="SvgjsTspan1542" style="text-decoration:;fill: rgb(255, 0, 255);">statement</tspan><tspan id="SvgjsTspan1543" style="text-decoration:;">, </tspan><tspan id="SvgjsTspan1544" style="text-decoration:;fill: rgb(186, 104, 200);">parameter</tspan><tspan id="SvgjsTspan1545" style="text-decoration:;">, </tspan><tspan id="SvgjsTspan1546" style="text-decoration:;fill: rgb(0, 0, 255);">rowBounds</tspan><tspan id="SvgjsTspan1547" style="text-decoration:;">, </tspan><tspan id="SvgjsTspan1548" style="text-decoration:;fill: rgb(74, 20, 140);">Executor.NO_RESULT_HANDLER</tspan><tspan id="SvgjsTspan1549" style="text-decoration:;">);</tspan></tspan><tspan id="SvgjsTspan1550" dy="16" x="10"><tspan id="SvgjsTspan1551" style="text-decoration:;">    }</tspan></tspan></text></g></g><g id="SvgjsG1552"><path id="SvgjsPath1553" d="M566.5625 732.4912902661072L566.5625 767.2686011904766L557.7857672358442 767.2686011904766L557.7857672358442 802.0935311624654" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1554)"></path></g><g id="SvgjsG1556" transform="translate(321.7551665166361,462.7097776610658)"><path id="SvgjsPath1557" d="M 0 4Q 0 0 4 0L 481.5720393657169 0Q 485.5720393657169 0 485.5720393657169 4L 485.5720393657169 87.75070028011072Q 485.5720393657169 91.75070028011072 481.5720393657169 91.75070028011072L 4 91.75070028011072Q 0 91.75070028011072 0 87.75070028011072Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1558"><text id="SvgjsText1559" font-family="微软雅黑" text-anchor="start" font-size="13px" width="466px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="4.25035014005536" transform="rotate(0)"><tspan id="SvgjsTspan1560" dy="16" x="10"><tspan id="SvgjsTspan1561" style="text-decoration:;">DefaultSqlSession</tspan></tspan><tspan id="SvgjsTspan1562" dy="16" x="10"><tspan id="SvgjsTspan1563" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1564" dy="16" x="10"><tspan id="SvgjsTspan1565" style="text-decoration:;">    public &lt;E&gt; List&lt;E&gt; </tspan><tspan id="SvgjsTspan1566" style="text-decoration:;fill: rgb(56, 142, 60);">selectList</tspan><tspan id="SvgjsTspan1567" style="text-decoration:;">(String </tspan><tspan id="SvgjsTspan1568" style="text-decoration:;fill: rgb(255, 0, 255);">statement</tspan><tspan id="SvgjsTspan1569" style="text-decoration:;">, Object </tspan><tspan id="SvgjsTspan1570" style="text-decoration:;fill: rgb(186, 104, 200);">parameter</tspan><tspan id="SvgjsTspan1571" style="text-decoration:;">) {</tspan></tspan><tspan id="SvgjsTspan1572" dy="16" x="10"><tspan id="SvgjsTspan1573" style="text-decoration:;">        return this.</tspan><tspan id="SvgjsTspan1574" style="text-decoration:;fill: rgb(56, 142, 60);">selectList</tspan><tspan id="SvgjsTspan1575" style="text-decoration:;">(</tspan><tspan id="SvgjsTspan1576" style="text-decoration:;fill: rgb(255, 0, 255);">statement</tspan><tspan id="SvgjsTspan1577" style="text-decoration:;">, </tspan><tspan id="SvgjsTspan1578" style="text-decoration:;fill: rgb(186, 104, 200);">parameter</tspan><tspan id="SvgjsTspan1579" style="text-decoration:;">, </tspan><tspan id="SvgjsTspan1580" style="text-decoration:;fill: rgb(0, 0, 255);">RowBounds.DEFAULT</tspan><tspan id="SvgjsTspan1581" style="text-decoration:;">);</tspan></tspan><tspan id="SvgjsTspan1582" dy="16" x="10"><tspan id="SvgjsTspan1583" style="text-decoration:;">    }</tspan></tspan></text></g></g><g id="SvgjsG1584" transform="translate(236.61167166611403,191.26299894958055)"><path id="SvgjsPath1585" d="M 0 4Q 0 0 4 0L 651.859029066761 0Q 655.859029066761 0 655.859029066761 4L 655.859029066761 220Q 655.859029066761 224 651.859029066761 224L 4 224Q 0 224 0 220Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1586"><text id="SvgjsText1587" font-family="微软雅黑" text-anchor="start" font-size="13px" width="636px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="-1.625" transform="rotate(0)"><tspan id="SvgjsTspan1588" dy="16" x="10"><tspan id="SvgjsTspan1589" style="text-decoration:;">DefaultSqlSession</tspan></tspan><tspan id="SvgjsTspan1590" dy="16" x="10"><tspan id="SvgjsTspan1591" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1592" dy="16" x="10"><tspan id="SvgjsTspan1593" style="text-decoration:;">    public &lt;T&gt; T </tspan><tspan id="SvgjsTspan1594" style="text-decoration:;fill: rgb(56, 142, 60);">selectOne</tspan><tspan id="SvgjsTspan1595" style="text-decoration:;">(String </tspan><tspan id="SvgjsTspan1596" style="text-decoration:;fill: rgb(255, 0, 255);">statement</tspan><tspan id="SvgjsTspan1597" style="text-decoration:;">, Object </tspan><tspan id="SvgjsTspan1598" style="text-decoration:;fill: rgb(186, 104, 200);">parameter</tspan><tspan id="SvgjsTspan1599" style="text-decoration:;">) {</tspan></tspan><tspan id="SvgjsTspan1600" dy="16" x="10"><tspan id="SvgjsTspan1601" style="text-decoration:;">        // Popular vote was to return null on 0 results and throw exception on too many.</tspan></tspan><tspan id="SvgjsTspan1602" dy="16" x="10"><tspan id="SvgjsTspan1603" style="text-decoration:;">        List&lt;T&gt; list = this.</tspan><tspan id="SvgjsTspan1604" style="text-decoration:;fill: rgb(56, 142, 60);">selectList</tspan><tspan id="SvgjsTspan1605" style="text-decoration:;">(</tspan><tspan id="SvgjsTspan1606" style="text-decoration:;fill: rgb(255, 0, 255);">statement</tspan><tspan id="SvgjsTspan1607" style="text-decoration:;">, </tspan><tspan id="SvgjsTspan1608" style="text-decoration:;fill: rgb(186, 104, 200);">parameter</tspan><tspan id="SvgjsTspan1609" style="text-decoration:;">);</tspan></tspan><tspan id="SvgjsTspan1610" dy="16" x="10"><tspan id="SvgjsTspan1611" style="text-decoration:;">        if (list.size() == 1) {</tspan></tspan><tspan id="SvgjsTspan1612" dy="16" x="10"><tspan id="SvgjsTspan1613" style="text-decoration:;">            return list.get(0);</tspan></tspan><tspan id="SvgjsTspan1614" dy="16" x="10"><tspan id="SvgjsTspan1615" style="text-decoration:;">        } else if (list.size() &gt; 1) {</tspan></tspan><tspan id="SvgjsTspan1616" dy="16" x="10"><tspan id="SvgjsTspan1617" style="text-decoration:;">            throw new TooManyResultsException("Expected one result (or null) to be returned by </tspan></tspan><tspan id="SvgjsTspan1618" dy="16" x="10"><tspan id="SvgjsTspan1619" style="text-decoration:;">selectOne(), but found: " + list.size());</tspan></tspan><tspan id="SvgjsTspan1620" dy="16" x="10"><tspan id="SvgjsTspan1621" style="text-decoration:;">        } else {</tspan></tspan><tspan id="SvgjsTspan1622" dy="16" x="10"><tspan id="SvgjsTspan1623" style="text-decoration:;">            return null;</tspan></tspan><tspan id="SvgjsTspan1624" dy="16" x="10"><tspan id="SvgjsTspan1625" style="text-decoration:;">        }</tspan></tspan><tspan id="SvgjsTspan1626" dy="16" x="10"><tspan id="SvgjsTspan1627" style="text-decoration:;">    }</tspan></tspan></text></g></g><g id="SvgjsG1628" transform="translate(342.9667708542226,25.006696428571473)"><path id="SvgjsPath1629" d="M 0 4Q 0 0 4 0L 441.2380952380953 0Q 445.2380952380953 0 445.2380952380953 4L 445.2380952380953 112Q 445.2380952380953 116 441.2380952380953 116L 4 116Q 0 116 0 112Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1630"><text id="SvgjsText1631" font-family="微软雅黑" text-anchor="start" font-size="13px" width="426px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="16.375" transform="rotate(0)"><tspan id="SvgjsTspan1632" dy="16" x="10"><tspan id="SvgjsTspan1633" style="text-decoration:;">DefaultSqlSession</tspan></tspan><tspan id="SvgjsTspan1634" dy="16" x="10"><tspan id="SvgjsTspan1635" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1636" dy="16" x="10"><tspan id="SvgjsTspan1637" style="text-decoration:;">    public &lt;T&gt; T selectOne(String </tspan><tspan id="SvgjsTspan1638" style="text-decoration:;fill: rgb(255, 0, 255);">statement</tspan><tspan id="SvgjsTspan1639" style="text-decoration:;">, Object </tspan><tspan id="SvgjsTspan1640" style="text-decoration:;fill: rgb(186, 104, 200);">parameter</tspan><tspan id="SvgjsTspan1641" style="text-decoration:;fill: rgb(244, 67, 54);">)</tspan><tspan id="SvgjsTspan1642" style="text-decoration:;"> {</tspan></tspan><tspan id="SvgjsTspan1643" dy="16" x="10"><tspan id="SvgjsTspan1644" style="text-decoration:;">        return this.sqlSessionProxy.</tspan><tspan id="SvgjsTspan1645" style="text-decoration:;fill: rgb(56, 142, 60);">selectOne</tspan><tspan id="SvgjsTspan1646" style="text-decoration:;">(statement, parameter);</tspan></tspan><tspan id="SvgjsTspan1647" dy="16" x="10"><tspan id="SvgjsTspan1648" style="text-decoration:;">    }</tspan></tspan></text></g></g><g id="SvgjsG1649"><path id="SvgjsPath1650" d="M564.5411861994944 141.00669642857147L564.5411861994944 169.0858280812326L564.5411861994944 169.0858280812326L564.5411861994944 191.26299894958055" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1651)"></path></g><g id="SvgjsG1653"><path id="SvgjsPath1654" d="M564.5411861994938 415.26299894958055L564.5411861994938 437.44016981792845L564.5411861994938 437.44016981792845L564.5411861994938 462.7097776610658" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1655)"></path></g><g id="SvgjsG1657"><path id="SvgjsPath1658" d="M566.5624999999998 554.4604779411766L566.5624999999998 585.4758841036423L566.5624999999998 585.4758841036423L566.5624999999998 616.4912902661072" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1659)"></path></g><g id="SvgjsG1661" transform="translate(1534.6941526610647,2750.628051103303)"><path id="SvgjsPath1662" d="M 0 4Q 0 0 4 0L 356.4761904761906 0Q 360.4761904761906 0 360.4761904761906 4L 360.4761904761906 151.9523809523812Q 360.4761904761906 155.9523809523812 356.4761904761906 155.9523809523812L 4 155.9523809523812Q 0 155.9523809523812 0 151.9523809523812Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1663"><text id="SvgjsText1664" font-family="微软雅黑" text-anchor="start" font-size="13px" width="341px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="20.351190476190595" transform="rotate(0)"><tspan id="SvgjsTspan1665" dy="16" x="10"><tspan id="SvgjsTspan1666" style="text-decoration:;">RoutingStatementHandler</tspan></tspan><tspan id="SvgjsTspan1667" dy="16" x="10"><tspan id="SvgjsTspan1668" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1669" dy="16" x="10"><tspan id="SvgjsTspan1670" style="text-decoration:;">  public Statement </tspan><tspan id="SvgjsTspan1671" style="text-decoration:;fill: rgb(245, 127, 23);">prepare</tspan><tspan id="SvgjsTspan1672" style="text-decoration:;">(Connection connection, </tspan></tspan><tspan id="SvgjsTspan1673" dy="16" x="10"><tspan id="SvgjsTspan1674" style="text-decoration:;">Integer transactionTimeout) throws SQLException {</tspan></tspan><tspan id="SvgjsTspan1675" dy="16" x="10"><tspan id="SvgjsTspan1676" style="text-decoration:;">    return delegate.prepare(connection, </tspan></tspan><tspan id="SvgjsTspan1677" dy="16" x="10"><tspan id="SvgjsTspan1678" style="text-decoration:;">transactionTimeout);</tspan></tspan><tspan id="SvgjsTspan1679" dy="16" x="10"><tspan id="SvgjsTspan1680" style="text-decoration:;">  }</tspan></tspan></text></g></g><g id="SvgjsG1681"><path id="SvgjsPath1682" d="M860.3554559646493 2829.6082758019215L901.6357793378654 2829.6082758019215L901.6357793378654 2829.6082758019215L942.9161027110815 2829.6082758019215" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1683)"></path></g><g id="SvgjsG1685"><path id="SvgjsPath1686" d="M1357.4399122348905 2828.604241579493L1446.0670324479775 2828.604241579493L1446.0670324479775 2828.604241579493L1534.6941526610647 2828.604241579493" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1687)"></path></g><g id="SvgjsG1689" transform="translate(1373.6363962251564,3216.085127801122)"><path id="SvgjsPath1690" d="M 0 4Q 0 0 4 0L 672.1904761904764 0Q 676.1904761904764 0 676.1904761904764 4L 676.1904761904764 317.9047619047619Q 676.1904761904764 321.9047619047619 672.1904761904764 321.9047619047619L 4 321.9047619047619Q 0 321.9047619047619 0 317.9047619047619Z" stroke="rgba(50,50,50,1)" stroke-width="2" fill-opacity="1" fill="#ffffff"></path><g id="SvgjsG1691"><text id="SvgjsText1692" font-family="微软雅黑" text-anchor="start" font-size="13px" width="657px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="15.327380952380963" transform="rotate(0)"><tspan id="SvgjsTspan1693" dy="16" x="10"><tspan id="SvgjsTspan1694" style="text-decoration:;">PreparedStatementHandler</tspan></tspan><tspan id="SvgjsTspan1695" dy="16" x="10"><tspan id="SvgjsTspan1696" style="text-decoration:;">@Override</tspan></tspan><tspan id="SvgjsTspan1697" dy="16" x="10"><tspan id="SvgjsTspan1698" style="text-decoration:;">  public Statement </tspan><tspan id="SvgjsTspan1699" style="text-decoration:;fill: rgb(245, 127, 23);">prepare</tspan><tspan id="SvgjsTspan1700" style="text-decoration:;">(Connection connection, Integer transactionTimeout) throws SQLException {</tspan></tspan><tspan id="SvgjsTspan1701" dy="16" x="10"><tspan id="SvgjsTspan1702" style="text-decoration:;">    ErrorContext.instance().sql(boundSql.getSql());</tspan></tspan><tspan id="SvgjsTspan1703" dy="16" x="10"><tspan id="SvgjsTspan1704" style="text-decoration:;">    Statement statement = null;</tspan></tspan><tspan id="SvgjsTspan1705" dy="16" x="10"><tspan id="SvgjsTspan1706" style="text-decoration:;">    try {</tspan></tspan><tspan id="SvgjsTspan1707" dy="16" x="10"><tspan id="SvgjsTspan1708" style="text-decoration:;">      statement = instantiateStatement(connection);</tspan></tspan><tspan id="SvgjsTspan1709" dy="16" x="10"><tspan id="SvgjsTspan1710" style="text-decoration:;">      setStatementTimeout(statement, transactionTimeout);</tspan></tspan><tspan id="SvgjsTspan1711" dy="16" x="10"><tspan id="SvgjsTspan1712" style="text-decoration:;">      setFetchSize(statement);</tspan></tspan><tspan id="SvgjsTspan1713" dy="16" x="10"><tspan id="SvgjsTspan1714" style="text-decoration:;">      return statement;</tspan></tspan><tspan id="SvgjsTspan1715" dy="16" x="10"><tspan id="SvgjsTspan1716" style="text-decoration:;">    } catch (SQLException e) {</tspan></tspan><tspan id="SvgjsTspan1717" dy="16" x="10"><tspan id="SvgjsTspan1718" style="text-decoration:;">      closeStatement(statement);</tspan></tspan><tspan id="SvgjsTspan1719" dy="16" x="10"><tspan id="SvgjsTspan1720" style="text-decoration:;">      throw e;</tspan></tspan><tspan id="SvgjsTspan1721" dy="16" x="10"><tspan id="SvgjsTspan1722" style="text-decoration:;">    } catch (Exception e) {</tspan></tspan><tspan id="SvgjsTspan1723" dy="16" x="10"><tspan id="SvgjsTspan1724" style="text-decoration:;">      closeStatement(statement);</tspan></tspan><tspan id="SvgjsTspan1725" dy="16" x="10"><tspan id="SvgjsTspan1726" style="text-decoration:;">      throw new ExecutorException("Error preparing statement.  Cause: " + e, e);</tspan></tspan><tspan id="SvgjsTspan1727" dy="16" x="10"><tspan id="SvgjsTspan1728" style="text-decoration:;">    }</tspan></tspan><tspan id="SvgjsTspan1729" dy="16" x="10"><tspan id="SvgjsTspan1730" style="text-decoration:;">  }</tspan></tspan></text></g></g><g id="SvgjsG1731"><path id="SvgjsPath1732" d="M1711.7316343203947 2906.580432055684L1711.7316343203947 3061.332779928403L1711.7316343203947 3061.332779928403L1711.7316343203947 3216.085127801122" stroke="#323232" stroke-width="2" fill="none" marker-end="url(#SvgjsMarker1733)"></path></g><g id="SvgjsG1735" transform="translate(929.2405986904567,3020.9759137511646)"><path id="SvgjsPath1736" d="M 0 0L 473.79858610110773 0L 489.79858610110773 16L 489.79858610110773 161.71985830765925L 0 161.71985830765925L 0 0Z" stroke="none" fill-opacity="1" fill="#ffffaa"></path><path id="SvgjsPath1737" d="M 473.79858610110773 0L 473.79858610110773 16L 489.79858610110773 16Z" stroke="none" fill-opacity="1" fill="#cdcdcd"></path><path id="SvgjsPath1738" d="M 0 0L 473.79858610110773 0L 489.79858610110773 16L 489.79858610110773 161.71985830765925L 0 161.71985830765925L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1739"><text id="SvgjsText1740" font-family="微软雅黑" text-anchor="start" font-size="13px" width="470px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.234929153829626" transform="rotate(0)"><tspan id="SvgjsTspan1741" dy="16" x="10"><tspan id="SvgjsTspan1742" style="text-decoration:;">return handler.query(stmt, resultHandler);该方法将被代理，若存在拦截方法，走</tspan></tspan><tspan id="SvgjsTspan1743" dy="16" x="10"><tspan id="SvgjsTspan1744" style="text-decoration:;fill: rgb(245, 127, 23);">interceptor.intercept</tspan><tspan id="SvgjsTspan1745" style="text-decoration:;">(new Invocation(target, method, args));没有则走</tspan></tspan><tspan id="SvgjsTspan1746" dy="16" x="10"><tspan id="SvgjsTspan1747" style="text-decoration:;fill: rgb(245, 127, 23);">method.invoke(target, args);</tspan></tspan><tspan id="SvgjsTspan1748" dy="16" x="10"><tspan id="SvgjsTspan1749" style="text-decoration:;"> </tspan></tspan><tspan id="SvgjsTspan1750" dy="16" x="10"><tspan id="SvgjsTspan1751" style="text-decoration:;fill: rgb(245, 127, 23);">该代理流程仅对与</tspan></tspan><tspan id="SvgjsTspan1752" dy="16" x="10"><tspan id="SvgjsTspan1753" style="text-decoration:;">@Intercepts({@Signature(</tspan></tspan><tspan id="SvgjsTspan1754" dy="16" x="10"><tspan id="SvgjsTspan1755" style="text-decoration:;">        type = </tspan><tspan id="SvgjsTspan1756" style="text-decoration:;fill: rgb(255, 0, 0);">StatementHandler</tspan><tspan id="SvgjsTspan1757" style="text-decoration:;">.class,</tspan></tspan><tspan id="SvgjsTspan1758" dy="16" x="10"><tspan id="SvgjsTspan1759" style="text-decoration:;">        method = "query",</tspan></tspan><tspan id="SvgjsTspan1760" dy="16" x="10"><tspan id="SvgjsTspan1761" style="text-decoration:;">        args = {Statement.class, ResultHandler.class})})</tspan></tspan></text></g></g></svg>